<?xml version="1.0" encoding="utf-8"?>
<StructureDefinition xmlns="http://hl7.org/fhir">
  <meta>
    <lastUpdated value="2018-02-20T11:21:32.952-06:00" />
  </meta>
  <url value="https://example.org/StructureDefinition/PatientCridAssignment" />
  <name value="PatientCridAssignment" />
  <status value="draft" />
  <date value="2018-02-19T08:01:20.243-06:00" />
  <description value="Patient information needed for the assignment of the Center for International Blood and Marrow Transplant Research (CIBMTR)'s Research Identification Number (CRID)." />
  <fhirVersion value="3.0.1" />
  <kind value="resource" />
  <abstract value="false" />
  <type value="Patient" />
  <baseDefinition value="http://hl7.org/fhir/StructureDefinition/Patient" />
  <derivation value="constraint" />
  <differential>
    <element id="Patient.extension">
      <path value="Patient.extension" />
      <slicing>
        <discriminator>
          <type value="value" />
          <path value="url" />
        </discriminator>
        <rules value="open" />
      </slicing>
    </element>
    <element id="Patient.extension:mothersMaidenName">
      <path value="Patient.extension" />
      <sliceName value="mothersMaidenName" />
      <type>
        <code value="Extension" />
        <profile value="http://hl7.org/fhir/StructureDefinition/patient-mothersMaidenName" />
      </type>
      <mustSupport value="true" />
    </element>
    <element id="Patient.extension:mothersMaidenName.valueString:valueString">
      <path value="Patient.extension.valueString" />
      <sliceName value="valueString" />
    </element>
    <element id="Patient.extension:sex">
      <path value="Patient.extension" />
      <sliceName value="sex" />
      <type>
        <code value="Extension" />
        <profile value="http://hl7.org/fhir/us/core/StructureDefinition/us-core-birthsex" />
      </type>
      <mustSupport value="true" />
    </element>
    <element id="Patient.extension:sex.valueCode:valueCode">
      <path value="Patient.extension.valueCode" />
      <sliceName value="valueCode" />
    </element>
    <element id="Patient.extension:birthPlace">
      <path value="Patient.extension" />
      <sliceName value="birthPlace" />
      <type>
        <code value="Extension" />
        <profile value="http://hl7.org/fhir/StructureDefinition/patient-birthPlace" />
      </type>
      <mustSupport value="true" />
    </element>
    <element id="Patient.extension:birthPlace.valueAddress:valueAddress">
      <path value="Patient.extension.valueAddress" />
      <sliceName value="valueAddress" />
    </element>
    <element id="Patient.extension:birthPlace.valueAddress:valueAddress.use">
      <path value="Patient.extension.valueAddress.use" />
      <mustSupport value="false" />
    </element>
    <element id="Patient.extension:birthPlace.valueAddress:valueAddress.type">
      <path value="Patient.extension.valueAddress.type" />
      <mustSupport value="false" />
    </element>
    <element id="Patient.extension:birthPlace.valueAddress:valueAddress.text">
      <path value="Patient.extension.valueAddress.text" />
      <mustSupport value="false" />
    </element>
    <element id="Patient.extension:birthPlace.valueAddress:valueAddress.line">
      <path value="Patient.extension.valueAddress.line" />
      <mustSupport value="false" />
    </element>
    <element id="Patient.extension:birthPlace.valueAddress:valueAddress.city">
      <path value="Patient.extension.valueAddress.city" />
      <mustSupport value="true" />
    </element>
    <element id="Patient.extension:birthPlace.valueAddress:valueAddress.district">
      <path value="Patient.extension.valueAddress.district" />
      <mustSupport value="false" />
    </element>
    <element id="Patient.extension:birthPlace.valueAddress:valueAddress.state">
      <path value="Patient.extension.valueAddress.state" />
      <mustSupport value="true" />
    </element>
    <element id="Patient.extension:birthPlace.valueAddress:valueAddress.postalCode">
      <path value="Patient.extension.valueAddress.postalCode" />
      <mustSupport value="false" />
    </element>
    <element id="Patient.extension:birthPlace.valueAddress:valueAddress.country">
      <path value="Patient.extension.valueAddress.country" />
      <mustSupport value="true" />
    </element>
    <element id="Patient.extension:birthPlace.valueAddress:valueAddress.period">
      <path value="Patient.extension.valueAddress.period" />
      <mustSupport value="false" />
    </element>
    <element id="Patient.identifier">
      <path value="Patient.identifier" />
      <slicing>
        <discriminator>
          <type value="value" />
          <path value="system" />
        </discriminator>
        <discriminator>
          <type value="pattern" />
          <path value="type" />
        </discriminator>
        <ordered value="false" />
        <rules value="open" />
      </slicing>
    </element>
    <element id="Patient.identifier:cibmtrFacilityNumber">
      <path value="Patient.identifier" />
      <sliceName value="cibmtrFacilityNumber" />
      <short value="An identifier for the CIBMTR facility" />
      <definition value="A unique numeric identifier assigned to a transplant facility fo the Center for International Blood and Marrow Transplant Research (CIBMTR)." />
      <min value="1" />
      <max value="1" />
      <mustSupport value="true" />
    </element>
    <element id="Patient.identifier:cibmtrFacilityNumber.use">
      <path value="Patient.identifier.use" />
      <mustSupport value="false" />
    </element>
    <element id="Patient.identifier:cibmtrFacilityNumber.type">
      <path value="Patient.identifier.type" />
      <fixedCodeableConcept>
        <coding>
          <system value=" http://hl7.org/fhir/ValueSet/identifier-type" />
          <code value="FI" />
          <display value="Facility ID" />
        </coding>
      </fixedCodeableConcept>
      <mustSupport value="true" />
    </element>
    <element id="Patient.identifier:cibmtrFacilityNumber.type.coding">
      <path value="Patient.identifier.type.coding" />
      <mustSupport value="false" />
    </element>
    <element id="Patient.identifier:cibmtrFacilityNumber.type.coding.system">
      <path value="Patient.identifier.type.coding.system" />
      <mustSupport value="false" />
    </element>
    <element id="Patient.identifier:cibmtrFacilityNumber.type.coding.version">
      <path value="Patient.identifier.type.coding.version" />
      <mustSupport value="false" />
    </element>
    <element id="Patient.identifier:cibmtrFacilityNumber.type.coding.code">
      <path value="Patient.identifier.type.coding.code" />
      <mustSupport value="false" />
    </element>
    <element id="Patient.identifier:cibmtrFacilityNumber.type.coding.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="Patient.identifier.type.coding.display" />
      <mustSupport value="false" />
    </element>
    <element id="Patient.identifier:cibmtrFacilityNumber.type.coding.userSelected">
      <path value="Patient.identifier.type.coding.userSelected" />
      <mustSupport value="false" />
    </element>
    <element id="Patient.identifier:cibmtrFacilityNumber.system">
      <path value="Patient.identifier.system" />
      <fixedUri value="www.cibmtr.org/placeholder" />
      <mustSupport value="true" />
    </element>
    <element id="Patient.identifier:cibmtrFacilityNumber.value">
      <path value="Patient.identifier.value" />
      <mustSupport value="true" />
    </element>
    <element id="Patient.identifier:cibmtrFacilityNumber.period">
      <path value="Patient.identifier.period" />
      <mustSupport value="false" />
    </element>
    <element id="Patient.identifier:cibmtrFacilityNumber.assigner">
      <path value="Patient.identifier.assigner" />
      <mustSupport value="false" />
    </element>
    <element id="Patient.identifier:ebmtFacilityNumber">
      <path value="Patient.identifier" />
      <sliceName value="ebmtFacilityNumber" />
      <mustSupport value="true" />
    </element>
    <element id="Patient.identifier:ebmtFacilityNumber.type">
      <path value="Patient.identifier.type" />
      <fixedCodeableConcept>
        <coding>
          <system value=" http://hl7.org/fhir/ValueSet/identifier-type" />
          <code value="FI" />
          <display value="Facility ID" />
        </coding>
      </fixedCodeableConcept>
      <mustSupport value="true" />
    </element>
    <element id="Patient.identifier:ebmtFacilityNumber.system">
      <path value="Patient.identifier.system" />
      <fixedUri value="https://www.ebmt.org/placeholder" />
      <mustSupport value="true" />
    </element>
    <element id="Patient.identifier:ebmtFacilityNumber.value">
      <path value="Patient.identifier.value" />
      <mustSupport value="true" />
    </element>
    <element id="Patient.identifier:crid">
      <path value="Patient.identifier" />
      <sliceName value="crid" />
      <short value="CIBMTR Research ID" />
      <definition value="A unique numeric identifier assigned to a Center for International Blood and Marrow Transplant Research participant." />
      <mustSupport value="true" />
    </element>
    <element id="Patient.identifier:crid.system">
      <path value="Patient.identifier.system" />
      <min value="1" />
      <fixedUri value="www.cibmtr.org/placeholder" />
      <mustSupport value="true" />
    </element>
    <element id="Patient.identifier:crid.value">
      <path value="Patient.identifier.value" />
      <min value="1" />
      <mustSupport value="true" />
    </element>
    <element id="Patient.identifier:teamID">
      <path value="Patient.identifier" />
      <sliceName value="teamID" />
      <short value="IBMTR facility ID" />
      <definition value="A unique numeric identifier assigned to a facility by the International Bone Marrow Transplant Registry." />
      <max value="1" />
    </element>
    <element id="Patient.identifier:teamID.type">
      <path value="Patient.identifier.type" />
      <fixedCodeableConcept>
        <coding>
          <system value=" http://hl7.org/fhir/ValueSet/identifier-type" />
          <code value="FI" />
          <display value="Facility ID" />
        </coding>
      </fixedCodeableConcept>
      <mustSupport value="true" />
    </element>
    <element id="Patient.identifier:teamID.system">
      <path value="Patient.identifier.system" />
      <fixedUri value="www.ibmtr/placeholder" />
      <mustSupport value="true" />
    </element>
    <element id="Patient.identifier:teamID.value">
      <path value="Patient.identifier.value" />
      <mustSupport value="true" />
    </element>
    <element id="Patient.identifier:teamID.assigner">
      <path value="Patient.identifier.assigner" />
      <code>
        <code value="ibmtr" />
        <display value="IBMTR" />
      </code>
      <fixedReference>
        <display value="IBMTR" />
      </fixedReference>
    </element>
    <element id="Patient.identifier:institutionPersonID">
      <path value="Patient.identifier" />
      <sliceName value="institutionPersonID" />
      <max value="1" />
      <mustSupport value="true" />
    </element>
    <element id="Patient.identifier:institutionPersonID.type">
      <path value="Patient.identifier.type" />
      <min value="1" />
      <patternCodeableConcept>
        <coding>
          <system value="http://hl7.org/fhir/ValueSet/identifier-type" />
          <code value="MR" />
        </coding>
      </patternCodeableConcept>
      <mustSupport value="true" />
    </element>
    <element id="Patient.identifier:institutionPersonID.type.coding">
      <path value="Patient.identifier.type.coding" />
      <min value="1" />
      <mustSupport value="true" />
    </element>
    <element id="Patient.identifier:institutionPersonID.type.coding.system">
      <path value="Patient.identifier.type.coding.system" />
      <min value="1" />
      <mustSupport value="true" />
    </element>
    <element id="Patient.identifier:institutionPersonID.type.coding.code">
      <path value="Patient.identifier.type.coding.code" />
      <min value="1" />
      <mustSupport value="true" />
    </element>
    <element id="Patient.identifier:institutionPersonID.value">
      <path value="Patient.identifier.value" />
      <min value="1" />
      <mustSupport value="true" />
    </element>
    <element id="Patient.identifier:otherOutcomesRegistryPersonId">
      <path value="Patient.identifier" />
      <sliceName value="otherOutcomesRegistryPersonId" />
      <short value="Outcomes registry person ID" />
      <definition value="A unique numeric identifier assigned to a participant by a patient outcomes registry that has not been previously specified" />
      <max value="1" />
      <mustSupport value="true" />
    </element>
    <element id="Patient.identifier:otherOutcomesRegistryPersonId.type">
      <path value="Patient.identifier.type" />
      <patternCodeableConcept>
        <coding>
          <system value=" http://hl7.org/fhir/ValueSet/identifier-type" />
          <code value="To do: Request code for outcomes registry" />
        </coding>
      </patternCodeableConcept>
      <mustSupport value="true" />
    </element>
    <element id="Patient.identifier:otherOutcomesRegistryPersonId.type.coding">
      <path value="Patient.identifier.type.coding" />
      <mustSupport value="false" />
    </element>
    <element id="Patient.identifier:otherOutcomesRegistryPersonId.type.text">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="Patient.identifier.type.text" />
      <min value="1" />
      <mustSupport value="true" />
    </element>
    <element id="Patient.identifier:otherOutcomesRegistryPersonId.period">
      <path value="Patient.identifier.period" />
      <mustSupport value="false" />
    </element>
    <element id="Patient.identifier:otherOutcomesRegistryPersonId.assigner">
      <path value="Patient.identifier.assigner" />
      <mustSupport value="false" />
    </element>
    <element id="Patient.identifier:nmdpPersonId">
      <path value="Patient.identifier" />
      <sliceName value="nmdpPersonId" />
      <short value="NMDP ID" />
      <definition value="A unique identifier assigned to a National Marrow Donor Program participant." />
      <max value="1" />
    </element>
    <element id="Patient.identifier:nmdpPersonId.use">
      <path value="Patient.identifier.use" />
      <mustSupport value="false" />
    </element>
    <element id="Patient.identifier:nmdpPersonId.type">
      <path value="Patient.identifier.type" />
      <fixedCodeableConcept>
        <coding>
          <system value=" http://hl7.org/fhir/ValueSet/identifier-type" />
          <code value="MR" />
          <display value="Medical Records Number" />
        </coding>
      </fixedCodeableConcept>
      <mustSupport value="false" />
    </element>
    <element id="Patient.identifier:nmdpPersonId.type.coding">
      <path value="Patient.identifier.type.coding" />
      <mustSupport value="false" />
    </element>
    <element id="Patient.identifier:nmdpPersonId.type.text">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="Patient.identifier.type.text" />
      <mustSupport value="false" />
    </element>
    <element id="Patient.identifier:nmdpPersonId.system">
      <path value="Patient.identifier.system" />
      <fixedUri value="https://bethematch.org/placeholder" />
      <mustSupport value="true" />
    </element>
    <element id="Patient.identifier:nmdpPersonId.value">
      <path value="Patient.identifier.value" />
      <mustSupport value="false" />
    </element>
    <element id="Patient.identifier:nmdpPersonId.period">
      <path value="Patient.identifier.period" />
      <mustSupport value="false" />
    </element>
    <element id="Patient.identifier:nmdpPersonId.assigner">
      <path value="Patient.identifier.assigner" />
      <fixedReference>
        <display value="NMDP" />
      </fixedReference>
      <mustSupport value="false" />
    </element>
    <element id="Patient.identifier:ssn">
      <path value="Patient.identifier" />
      <sliceName value="ssn" />
      <mustSupport value="true" />
    </element>
    <element id="Patient.identifier:ssn.use">
      <path value="Patient.identifier.use" />
      <mustSupport value="false" />
    </element>
    <element id="Patient.identifier:ssn.type">
      <path value="Patient.identifier.type" />
      <fixedCodeableConcept>
        <coding>
          <system value=" http://hl7.org/fhir/ValueSet/identifier-type" />
          <code value="SS" />
          <display value="Social Security Number" />
        </coding>
      </fixedCodeableConcept>
      <mustSupport value="false" />
    </element>
    <element id="Patient.identifier:ssn.type.coding">
      <path value="Patient.identifier.type.coding" />
      <fixedCoding>
        <system value=" http://hl7.org/fhir/ValueSet/identifier-type" />
        <code value="SS" />
        <display value="Social security number" />
      </fixedCoding>
      <mustSupport value="false" />
    </element>
    <element id="Patient.identifier:ssn.type.text">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="Patient.identifier.type.text" />
      <mustSupport value="false" />
    </element>
    <element id="Patient.identifier:ssn.system">
      <path value="Patient.identifier.system" />
      <fixedUri value="http://hl7.org/fhir/sid/us-ssn" />
      <mustSupport value="false" />
    </element>
    <element id="Patient.identifier:ssn.value">
      <path value="Patient.identifier.value" />
      <mustSupport value="true" />
    </element>
    <element id="Patient.identifier:ssn.period">
      <path value="Patient.identifier.period" />
      <mustSupport value="false" />
    </element>
    <element id="Patient.identifier:ssn.assigner">
      <path value="Patient.identifier.assigner" />
      <mustSupport value="false" />
    </element>
    <element id="Patient.identifier:IUBMID">
      <path value="Patient.identifier" />
      <sliceName value="IUBMID" />
      <max value="1" />
    </element>
    <element id="Patient.identifier:IUBMID.use">
      <path value="Patient.identifier.use" />
      <mustSupport value="false" />
    </element>
    <element id="Patient.identifier:IUBMID.type">
      <path value="Patient.identifier.type" />
      <fixedCodeableConcept>
        <coding>
          <system value=" http://hl7.org/fhir/ValueSet/identifier-type" />
          <code value="MR" />
          <display value="Medical record number" />
        </coding>
      </fixedCodeableConcept>
      <mustSupport value="true" />
    </element>
    <element id="Patient.identifier:IUBMID.type.coding">
      <path value="Patient.identifier.type.coding" />
      <mustSupport value="false" />
    </element>
    <element id="Patient.identifier:IUBMID.type.text">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="Patient.identifier.type.text" />
      <mustSupport value="false" />
    </element>
    <element id="Patient.identifier:IUBMID.system">
      <path value="Patient.identifier.system" />
      <fixedUri value="www.ibmtr/placeholder" />
      <mustSupport value="true" />
    </element>
    <element id="Patient.identifier:IUBMID.value">
      <path value="Patient.identifier.value" />
      <mustSupport value="true" />
    </element>
    <element id="Patient.identifier:IUBMID.period">
      <path value="Patient.identifier.period" />
      <mustSupport value="false" />
    </element>
    <element id="Patient.identifier:IUBMID.assigner">
      <path value="Patient.identifier.assigner" />
      <fixedReference>
        <display value="IBMTR" />
      </fixedReference>
      <mustSupport value="false" />
    </element>
    <element id="Patient.name">
      <path value="Patient.name" />
      <mustSupport value="true" />
    </element>
    <element id="Patient.name.family">
      <path value="Patient.name.family" />
      <alias value="last name" />
      <mustSupport value="true" />
    </element>
    <element id="Patient.name.given">
      <path value="Patient.name.given" />
      <mustSupport value="true" />
    </element>
    <element id="Patient.name.prefix">
      <path value="Patient.name.prefix" />
      <mustSupport value="false" />
    </element>
    <element id="Patient.name.suffix">
      <path value="Patient.name.suffix" />
      <mustSupport value="false" />
    </element>
    <element id="Patient.name.period">
      <path value="Patient.name.period" />
      <mustSupport value="false" />
    </element>
    <element id="Patient.telecom">
      <path value="Patient.telecom" />
      <mustSupport value="false" />
    </element>
    <element id="Patient.gender">
      <path value="Patient.gender" />
      <constraint>
        <key value="invPatientGender" />
        <severity value="warning" />
        <human value="The patient's gender should only be submitted if the patient's bitth sex is not available" />
        <expression value="gender.exists()!=sex.exists()" />
      </constraint>
      <mustSupport value="true" />
    </element>
    <element id="Patient.birthDate">
      <path value="Patient.birthDate" />
      <mustSupport value="true" />
    </element>
    <element id="Patient.deceased[x]">
      <path value="Patient.deceased[x]" />
      <mustSupport value="true" />
    </element>
    <element id="Patient.maritalStatus">
      <path value="Patient.maritalStatus" />
      <mustSupport value="false" />
    </element>
    <element id="Patient.link">
      <path value="Patient.link" />
      <mustSupport value="true" />
    </element>
  </differential>
</StructureDefinition>